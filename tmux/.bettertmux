#!/bin/bash

# 

tmux_blue=$(python3 ~/.dotfiles/colors.py normalblue)
tmux_dark=$(python3 ~/.dotfiles/colors.py "Background Color")
tmux_green=$(python3 ~/.dotfiles/colors.py normalgreen)
tmux_grey=$(python3 ~/.dotfiles/colors.py normalwhite)
tmux_red=$(python3 ~/.dotfiles/colors.py normalred)
tmux_magenta=$(python3 ~/.dotfiles/colors.py normalmagenta)
tmux_white=$(python3 ~/.dotfiles/colors.py brightwhite)
tmux_yellow=$(python3 ~/.dotfiles/colors.py normalyellow)

get() {
    local option=$1
    local default_value=$2
    local option_value="$(tmux show-option -gqv "$option")"

    if [ -z "$option_value" ]; then
       echo "$default_value"
    else
       echo "$option_value"
    fi
}

set() {
    local option=$1
    local value=$2
    tmux set-option -gq "$option" "$value"
}

setw() {
    local option=$1
    local value=$2
    tmux set-window-option -gq "$option" "$value"
}

set "status" "on"
set "status-justify" "left"

set "status-left-length" "100"
set "status-right-length" "100"
set "status-right-attr" "none"

set "message-fg" "$tmux_white"
set "message-bg" "$tmux_dark"

set "message-command-fg" "$tmux_white"
set "message-command-bg" "$tmux_dark"

set "status-attr" "none"
set "status-left-attr" "none"

setw "window-status-fg" "$tmux_dark"
setw "window-status-bg" "$tmux_dark"
setw "window-status-attr" "none"

setw "window-status-activity-bg" "$tmux_dark"
setw "window-status-activity-fg" "$tmux_dark"
setw "window-status-activity-attr" "none"

setw "window-status-separator" ""


set "pane-border-fg" "$tmux_white"
set "pane-active-border-fg" "$tmux_white"

set "display-panes-active-colour" "$tmux_yellow"
set "display-panes-colour" "$tmux_blue"

set "status-bg" "$tmux_dark"
set "status-fg" "$tmux_white"

set "@prefix_highlight_fg" "$tmux_dark"
set "@prefix_highlight_bg" "$tmux_green"
set "@prefix_highlight_copy_mode_attr" "fg=$tmux_dark,bg=$tmux_green"
set "@prefix_highlight_output_prefix" "  "

spotify_bar="\
#[fg=$tmux_white,bg=$tmux_dark]\
 #{spotify_artist}: #{spotify_track} "

battery_bar="\
#[fg=$tmux_white,bg=$tmux_dark, bold]\
 \
#[fg=#{battery_status_bg},bg=$tmux_dark]\
#{battery_percentage}  \
"

time_bar="\
#[fg=$tmux_white,bg=$tmux_dark, bold]\
  \
#[fg=$tmux_white,bg=$tmux_dark, nobold]\
%a %d.%b %H:%M  \
#[fg=$tmux_white,bg=$tmux_dark, bold]\
  \
   "

set "status-right" "${battery_bar}${time_bar}"
#set "status-right" "${spotify_bar}${battery_bar}${time_bar}"

set "status-left" "\
#[fg=$tmux_white,bg=$tmux_blue,bold]  \
 #S  \
#[fg=$tmux_blue,bg=$tmux_dark,nobold,nounderscore,noitalics]\
 \
#[fg=$tmux_magenta,bg=$tmux_dark,bold,nounderscore,noitalics]\
 \
#[fg=$tmux_white,bg=$tmux_dark,bold,nounderscore,noitalics]\
$(whoami)  \
\
"

set "window-status-format" "\
#[fg=$tmux_white,bg=$tmux_dark, nobold]\
   \
#W  \
#[fg=$tmux_white,bg=$tmux_dark, nobold]\
\
"

set "window-status-current-format" "\
#[fg=$tmux_white,bg=$tmux_dark,nobold,nounderscore,noitalics]\
 \
#[fg=$tmux_yellow,bg=$tmux_dark,nobold]\
  \
#[fg=$tmux_white,bg=$tmux_dark, bold]\
\
"
